---
title: Web Campaigns
description: Configuring real-time WebRTC and WebSocket sessions for browser and app integrations.
---

import { Globe, Code, Cpu, Webhook } from 'lucide-react';
import { Step, Steps } from 'fumadocs-ui/components/steps';

**Web Campaigns** allow you to embed Voice AI directly into your websites, mobile applications, or custom hardware.

Unlike Telephony campaigns (which rely on old phone networks), Web Campaigns use **WebRTC** or **WebSockets**. This results in:
*   **Higher Audio Quality:** HD Voice (44.1kHz) instead of phone quality (8kHz).
*   **Lower Latency:** Direct internet connection without carrier routing.
*   **Zero Telephony Costs:** No per-minute fees to Twilio/Telnyx.

## Creating a Campaign

Navigate to **Business Dashboard** -> **Web Campaigns** -> **Add Campaign**.

<Steps>
<Step>
### Agent & Script
Select the **Agent** (Persona) and **Script** (Logic) to be used.
*   *Tip:* You can reuse the same Agent/Script from your Telephony campaigns to maintain a consistent experience across Phone and Web.
</Step>

<Step>
### Configuration
*   **Max Duration:** Limit the session length to control compute costs.
*   **Silence Detection:** Configure how the agent handles user silence (usually more lenient in web sessions than phone calls).
</Step>

<Step>
### Dynamic Variables
Define what data you expect the frontend to pass to the agent.
*   **Example:** If your website has a logged-in user, you can pass their `name` and `account_id` as metadata when the session starts. The Agent can then greet them personally: *"Welcome back, &lcub;&lcub; name &rcub;&rcub;."*
</Step>
</Steps>

## Integration (The Widget)

Once saved, the campaign generates a **Client Token** or **Campaign ID**.

Developers use this ID to connect via our Client SDKs.

```javascript title="Example Frontend Code"
import { IqraWebClient } from '@iqra-ai/web-sdk';

const client = new IqraWebClient({
  campaignId: "camp_web_12345", // From your dashboard
  metadata: {
    name: "Ali", // Passed to Agent Variables
    page: "/pricing"
  }
});

client.start();
```

<Callout type="info" title="SDKs">
  Check the [Developers / SDKs](/developers/sdks) section for detailed implementation guides for React, Vanilla JS, and Mobile.
</Callout>

---

## Actions (Webhooks)

Sync the digital conversation events to your backend.

### 1. On Conversation Initiated
Triggered when the WebSocket/WebRTC connection is established.
*   **Variables:** `session_id`, `client_ip`, `metadata`, `timestamp`.

### 2. On Conversation Initiation Failure
Triggered if the connection is rejected (e.g., Invalid Token, Geo-blocked, or Concurrency Limit reached).
*   **Variables:** `error_reason`, `client_ip`.

### 3. On Conversation Ended
Triggered when the user closes the tab or clicks "End Call".

| Variable | Description |
| :--- | :--- |
| `session_id` | Unique UUID. |
| `duration` | Length of session. |
| `transcript` | Full text. |
| `recording_url` | MP3 link (if recording enabled). |
| `cost` | Compute cost (LLM + STT + TTS). |
| `summary` | (If Post-Analysis enabled). |
| `tags` | (If Post-Analysis enabled). |
| `extracted_data` | (If Post-Analysis enabled) JSON data. |